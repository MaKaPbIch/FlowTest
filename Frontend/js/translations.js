const translations = {
    ru: {
        // Общие
        "settings": "Настройки",
        "back": "Назад",
        "save": "Сохранить",
        "cancel": "Отмена",
        "delete": "Удалить",
        "edit": "Редактировать",
        "create": "Создать",
        "search": "Поиск",

        // Графики
        "successRate": "Успешность",
        "passed": "Пройдено",
        "failed": "Провалено",
        "skipped": "Пропущено",
        "testsOverTime": "Тесты по времени",
        "resultsDistribution": "Распределение результатов",

        // Меню
        "profile": "Профиль",
        "settings": "Настройки",
        "logout": "Выход",
        "projects": "Проекты",
        "testCases": "Тест-кейсы",
        "reports": "Отчеты",

        // Авторизация
        "login": "Вход",
        "username": "Имя пользователя",
        "password": "Пароль",
        "loginButton": "Войти",
        "rememberMe": "Запомнить меня",

        // Добавим недостающие
        "notifications": "Уведомления",
        "view_all": "Посмотреть все",
        "no_notifications": "Нет новых уведомлений",
        "menu": {
            "profile": "Профиль",
            "settings": "Настройки",
            "logout": "Выход"
        },

        // Dashboard
        "dashboard": "Панель управления",
        "companyLogo": "Логотип компании",
        "events": "События",
        "testRuns": "Запуски тестов",
        "allProjects": "Все проекты",
        "view_all_notifications": "Все уведомления",
        "from_last_month": "за прошлый месяц",
        "failedTests": "Неудачные тесты",
        "executionTime": "Время выполнения",
        "priorityDistribution": "Распределение по приоритетам",
        "categoryStatistics": "Статистика по категориям",

        // Категории и статистика
        "category": "Категория",
        "totalTests": "Всего тестов",
        "failureRate": "Процент неудач",
        "avgDuration": "Среднее время",
        "functional": "Функциональные",
        "nonFunctional": "Нефункциональные",
        "integration": "Интеграционные",
        "security": "Безопасность",

        // Проекты
        "createNewProject": "Создать новый проект",
        "projectName": "Название проекта",
        "description": "Описание",
        "selectProject": "Выберите проект",
        "noProjects": "Нет доступных проектов",
        "enterProjectName": "Введите название проекта",
        "enterProjectDescription": "Введите описание проекта",
        "projectCreated": "Проект успешно создан",
        "projectCreationError": "Ошибка при создании проекта",

        // Приоритеты
        "high": "Высокий",
        "medium": "Средний",
        "low": "Низкий",

        // Вход
        "light": "Светлая",
        "dark": "Темная",
        "system": "Системная",
        "welcome": "Добро пожаловать",
        "signin-msg": "Войдите в свой аккаунт",
        "remember": "Запомнить меня",
        "forgot": "Забыли пароль?",
        "signin-btn": "Войти",
        "no-account": "Нет аккаунта?",
        "signup": "Зарегистрироваться",

        // Repository Connect Page
        "connectRepository": "Подключить репозиторий",
        "project": "Проект",
        "loadingProjects": "Загрузка проектов...",
        "selectProject": "Выберите проект",
        "noProjects": "Нет доступных проектов",
        "name": "Название",
        "repositoryUrl": "URL репозитория",
        "repositoryType": "Тип репозитория",
        "username": "Имя пользователя",
        "accessToken": "Токен доступа",
        "branch": "Ветка",
        "framework": "Фреймворк",
        "testsDirectory": "Директория с тестами",
        "connect": "Подключить",
        "back": "Назад",
        "failedToLoadProjects": "Не удалось загрузить проекты",
        "errorLoadingProjects": "Ошибка загрузки проектов",
        "failedToConnectRepository": "Не удалось подключить репозиторий",
        "github": "GitHub",
        "gitlab": "GitLab",
        "bitbucket": "Bitbucket",
        "pytest": "PyTest",
        "unittest": "UnitTest",
        "robot": "Robot Framework",
        "playwright": "Playwright",

        // Settings Page
        "settings": "Настройки",
        "back-to-home": "Вернуться на главную",
        "themePreferences": "Настройки темы",
        "light": "Светлая",
        "dark": "Темная",
        "system": "Системная",
        "language": "Язык",
        "english": "Английский",
        "russian": "Русский",
        "german": "Немецкий",
        "manageRoles": "Управление ролями",
        "administrator": "Администратор",
        "adminDesc": "Полный доступ ко всем настройкам и функциям",
        "manager": "Менеджер",
        "managerDesc": "Может управлять командой и просматривать отчеты",
        "user": "Пользователь",
        "userDesc": "Базовый доступ к функциям платформы",
        "testAutomation": "Автоматизация тестирования",
        "testRepository": "Репозиторий тестов",
        "connectRepository": "Подключить репозиторий",
        "testRepositoryDesc": "Подключите ваш репозиторий с автоматизированными тестами",
        "automationProjects": "Проекты автоматизации",
        "automationProjectsDesc": "Просмотр и управление проектами автоматизации тестов",
        "viewProjects": "Просмотр проектов",
        "languageChangeSuccess": "Язык успешно изменен",
        "languageChangeError": "Ошибка при смене языка",
        "loadingTranslationsError": "Ошибка загрузки переводов",

        // Настройки профиля
        "profile": "Профиль",
        "profileSettings": "Настройки профиля",
        "firstName": "Имя",
        "lastName": "Фамилия",
        "middleName": "Отчество",
        "nickname": "Никнейм",
        "email": "Электронная почта",
        "currentPassword": "Текущий пароль",
        "newPassword": "Новый пароль",
        "maxFileSize": "Максимальный размер файла: 5MB",
        "allowedFormats": "Разрешенные форматы: JPG, PNG",
        "enterFirstName": "Введите имя",
        "enterLastName": "Введите фамилию",
        "enterMiddleName": "Введите отчество",
        "enterNickname": "Введите никнейм",
        "enterEmail": "Введите email",
        "enterPassword": "Введите текущий пароль",
        "enterNewPassword": "Введите новый пароль",
        "saveChanges": "Сохранить изменения",
        "cancel": "Отмена",
        "back": "Назад",

        // Пароли и безопасность
        "passwordRequirements": "Требования к паролю:",
        "passwordStrength": "Сложность пароля",
        "confirmPassword": "Подтвердите пароль",
        "passwordMustContain": "Пароль должен содержать:",
        "minLength": "Минимум 8 символов",
        "upperCase": "Заглавную букву",
        "lowerCase": "Строчную букву",
        "number": "Цифру",
        "specialChar": "Специальный символ",
        "passwordWeak": "Слабый",
        "passwordMedium": "Средний",
        "passwordStrong": "Сильный",
        "passwordsDoNotMatch": "Пароли не совпадают",
        "changePassword": "Сменить пароль",

        // Настройки профиля
        "Profile Settings": "Настройки профиля",
        "First Name": "Имя",
        "Last Name": "Фамилия",
        "Email": "Электронная почта",
        "Bio": "О себе",
        "New Password": "Новый пароль",
        "Save Changes": "Сохранить изменения",
        "Cancel": "Отмена",
        "Allowed formats: JPG, PNG, GIF": "Допустимые форматы: JPG, PNG, GIF",
        "Error updating profile": "Ошибка при обновлении профиля",
        "Error fetching user data": "Ошибка при загрузке данных пользователя"
    },
    en: {
        // Common
        "settings": "Settings",
        "back": "Back",
        "save": "Save",
        "cancel": "Cancel",
        "delete": "Delete",
        "edit": "Edit",
        "create": "Create",
        "search": "Search",

        // Charts
        "successRate": "Success Rate",
        "passed": "Passed",
        "failed": "Failed",
        "skipped": "Skipped",
        "testsOverTime": "Tests Over Time",
        "resultsDistribution": "Results Distribution",

        // Menu
        "profile": "Profile",
        "settings": "Settings",
        "logout": "Logout",
        "projects": "Projects",
        "testCases": "Test Cases",
        "reports": "Reports",

        // Auth
        "login": "Login",
        "username": "Username",
        "password": "Password",
        "loginButton": "Sign In",
        "rememberMe": "Remember me",

        // Добавим недостающие
        "notifications": "Notifications",
        "view_all": "View all",
        "no_notifications": "No new notifications",
        "menu": {
            "profile": "Profile",
            "settings": "Settings",
            "logout": "Logout"
        },

        // Dashboard
        "dashboard": "Dashboard",
        "companyLogo": "Company Logo",
        "events": "Events",
        "testRuns": "Test Runs",
        "allProjects": "All Projects",
        "view_all_notifications": "View All Notifications",
        "from_last_month": "from last month",
        "failedTests": "Failed Tests",
        "executionTime": "Execution Time",
        "priorityDistribution": "Priority Distribution",
        "categoryStatistics": "Category Statistics",

        // Categories and Statistics
        "category": "Category",
        "totalTests": "Total Tests",
        "failureRate": "Failure Rate",
        "avgDuration": "Average Duration",
        "functional": "Functional",
        "nonFunctional": "Non-Functional",
        "integration": "Integration",
        "security": "Security",

        // Projects
        "createNewProject": "Create New Project",
        "projectName": "Project Name",
        "description": "Description",
        "selectProject": "Select Project",
        "noProjects": "No projects available",
        "enterProjectName": "Enter project name",
        "enterProjectDescription": "Enter project description",
        "projectCreated": "Project successfully created",
        "projectCreationError": "Error creating project",

        // Priorities
        "high": "High",
        "medium": "Medium",
        "low": "Low",

        // Login
        "light": "Light",
        "dark": "Dark",
        "system": "System",
        "welcome": "Welcome back",
        "signin-msg": "Sign in to your account",
        "remember": "Remember me",
        "forgot": "Forgot password?",
        "signin-btn": "Sign in",
        "no-account": "Don't have an account?",
        "signup": "Sign up",

        // Repository Connect Page
        "connectRepository": "Connect Repository",
        "project": "Project",
        "loadingProjects": "Loading projects...",
        "selectProject": "Select Project",
        "noProjects": "No Projects Available",
        "name": "Name",
        "repositoryUrl": "Repository URL",
        "repositoryType": "Repository Type",
        "username": "Username",
        "accessToken": "Access Token",
        "branch": "Branch",
        "framework": "Framework",
        "testsDirectory": "Tests Directory",
        "connect": "Connect",
        "back": "Back",
        "failedToLoadProjects": "Failed to load projects",
        "errorLoadingProjects": "Error loading projects",
        "failedToConnectRepository": "Failed to connect repository",
        "github": "GitHub",
        "gitlab": "GitLab",
        "bitbucket": "Bitbucket",
        "pytest": "PyTest",
        "unittest": "UnitTest",
        "robot": "Robot Framework",
        "playwright": "Playwright",

        // Settings Page
        "settings": "Settings",
        "back-to-home": "Back to Home",
        "themePreferences": "Theme Preferences",
        "light": "Light",
        "dark": "Dark",
        "system": "System",
        "language": "Language",
        "english": "English",
        "russian": "Russian",
        "german": "German",
        "manageRoles": "Manage Roles",
        "administrator": "Administrator",
        "adminDesc": "Full access to all settings and features",
        "manager": "Manager",
        "managerDesc": "Can manage team and view reports",
        "user": "User",
        "userDesc": "Basic access to platform features",
        "testAutomation": "Test Automation",
        "testRepository": "Test Repository",
        "connectRepository": "Connect Repository",
        "testRepositoryDesc": "Connect your repository with automated tests",
        "automationProjects": "Automation Projects",
        "automationProjectsDesc": "View and manage your test automation projects",
        "viewProjects": "View Projects",
        "languageChangeSuccess": "Language changed successfully",
        "languageChangeError": "Error changing language",
        "loadingTranslationsError": "Error loading translations",
        "changePassword": "Change Password",

        // Profileinstellungen
        "Profile Settings": "Profileinstellungen",
        "First Name": "First Name",
        "Last Name": "Last Name",
        "Email": "Email",
        "Bio": "Bio",
        "New Password": "New Password",
        "Save Changes": "Save Changes",
        "Cancel": "Cancel",
        "Allowed formats: JPG, PNG, GIF": "Allowed formats: JPG, PNG, GIF",
        "Error updating profile": "Error updating profile",
        "Error fetching user data": "Error fetching user data"
    },
    de: {
        // Allgemein
        "light": "Hell",
        "dark": "Dunkel",
        "system": "System",
        "welcome": "Willkommen zurück",
        "signin-msg": "Melden Sie sich bei Ihrem Konto an",
        "username": "Benutzername",
        "password": "Passwort",
        "remember": "Angemeldet bleiben",
        "forgot": "Passwort vergessen?",
        "signin-btn": "Anmelden",
        "no-account": "Noch kein Konto?",
        "signup": "Registrieren",
        
        "settings": "Einstellungen",
        "back": "Zurück",
        "save": "Speichern",
        "cancel": "Abbrechen",
        "delete": "Löschen",
        "edit": "Bearbeiten",
        "create": "Erstellen",
        "search": "Suche",

        // Projekte
        "createNewProject": "Neues Projekt erstellen",
        "projectName": "Projektname",
        "description": "Beschreibung",
        "selectProject": "Projekt auswählen",
        "noProjects": "Keine Projekte verfügbar",
        "enterProjectName": "Projektname eingeben",
        "enterProjectDescription": "Projektbeschreibung eingeben",
        "projectCreated": "Projekt erfolgreich erstellt",
        "projectCreationError": "Fehler beim Erstellen des Projekts",

        // Charts
        "successRate": "Erfolgsquote",
        "passed": "Bestanden",
        "failed": "Fehlgeschlagen",
        "skipped": "Übersprungen",
        "testsOverTime": "Tests im Zeitverlauf",
        "resultsDistribution": "Ergebnisverteilung",

        // Menu
        "profile": "Profil",
        "settings": "Einstellungen",
        "logout": "Abmelden",
        "projects": "Projekte",
        "testCases": "Testfälle",
        "reports": "Berichte",

        // Dashboard
        "dashboard": "Dashboard",
        "companyLogo": "Firmenlogo",
        "events": "Ereignisse",
        "testRuns": "Testläufe",
        "allProjects": "Alle Projekte",
        "view_all_notifications": "Alle Benachrichtigungen",
        "from_last_month": "vom letzten Monat",
        "failedTests": "Fehlgeschlagene Tests",
        "executionTime": "Ausführungszeit",
        "priorityDistribution": "Prioritätsverteilung",
        "categoryStatistics": "Kategoriestatistik",

        // Repository Connect Page
        "connectRepository": "Repository verbinden",
        "project": "Projekt",
        "loadingProjects": "Projekte werden geladen...",
        "selectProject": "Projekt auswählen",
        "noProjects": "Keine Projekte verfügbar",
        "name": "Name",
        "repositoryUrl": "Repository-URL",
        "repositoryType": "Repository-Typ",
        "username": "Benutzername",
        "accessToken": "Zugriffstoken",
        "branch": "Branch",
        "framework": "Framework",
        "testsDirectory": "Test-Verzeichnis",
        "connect": "Verbinden",
        "back": "Zurück",
        "failedToLoadProjects": "Projekte konnten nicht geladen werden",
        "errorLoadingProjects": "Fehler beim Laden der Projekte",
        "failedToConnectRepository": "Repository konnte nicht verbunden werden",
        "github": "GitHub",
        "gitlab": "GitLab",
        "bitbucket": "Bitbucket",
        "pytest": "PyTest",
        "unittest": "UnitTest",
        "robot": "Robot Framework",
        "playwright": "Playwright",

        // Settings Page
        "settings": "Einstellungen",
        "back-to-home": "Zurück zur Startseite",
        "themePreferences": "Theme-Einstellungen",
        "light": "Hell",
        "dark": "Dunkel",
        "system": "System",
        "language": "Sprache",
        "english": "Englisch",
        "russian": "Russisch",
        "german": "Deutsch",
        "manageRoles": "Rollen verwalten",
        "administrator": "Administrator",
        "adminDesc": "Vollzugriff auf alle Einstellungen und Funktionen",
        "manager": "Manager",
        "managerDesc": "Kann Team verwalten und Berichte einsehen",
        "user": "Benutzer",
        "userDesc": "Basiszugriff auf Plattformfunktionen",
        "testAutomation": "Testautomatisierung",
        "testRepository": "Test-Repository",
        "connectRepository": "Repository verbinden",
        "testRepositoryDesc": "Verbinden Sie Ihr Repository mit automatisierten Tests",
        "automationProjects": "Automatisierungsprojekte",
        "automationProjectsDesc": "Anzeigen und Verwalten von Testautomatisierungsprojekten",
        "viewProjects": "Projekte anzeigen",
        "languageChangeSuccess": "Sprache erfolgreich geändert",
        "languageChangeError": "Fehler beim Ändern der Sprache",
        "loadingTranslationsError": "Fehler beim Laden der Übersetzungen",

        // Profilseite
        "profile": "Profil",
        "profileSettings": "Profileinstellungen",
        "firstName": "Vorname",
        "lastName": "Nachname",
        "middleName": "Zweiter Vorname",
        "nickname": "Spitzname",
        "email": "E-Mail-Adresse",
        "currentPassword": "Aktuelles Passwort",
        "newPassword": "Neues Passwort",
        "maxFileSize": "Maximale Dateigröße: 5MB",
        "allowedFormats": "Erlaubte Formate: JPG, PNG",
        "enterFirstName": "Vorname eingeben",
        "enterLastName": "Nachname eingeben",
        "enterMiddleName": "Zweiten Vornamen eingeben",
        "enterNickname": "Spitznamen eingeben",
        "enterEmail": "E-Mail-Adresse eingeben",
        "enterPassword": "Aktuelles Passwort eingeben",
        "enterNewPassword": "Neues Passwort eingeben",
        "saveChanges": "Änderungen speichern",
        "cancel": "Abbrechen",
        "back": "Zurück",

        // Passwörter und Sicherheit
        "passwordRequirements": "Passwortanforderungen:",
        "passwordStrength": "Passwortstärke",
        "confirmPassword": "Passwort bestätigen",
        "passwordMustContain": "Das Passwort muss enthalten:",
        "minLength": "Mindestens 8 Zeichen",
        "upperCase": "Einen Großbuchstaben",
        "lowerCase": "Einen Kleinbuchstaben",
        "number": "Eine Zahl",
        "specialChar": "Ein Sonderzeichen",
        "passwordWeak": "Schwach",
        "passwordMedium": "Mittel",
        "passwordStrong": "Stark",
        "passwordsDoNotMatch": "Passwörter stimmen nicht überein",
        "changePassword": "Passwort ändern",

        // Profileinstellungen
        "Profile Settings": "Profileinstellungen",
        "First Name": "First Name",
        "Last Name": "Last Name",
        "Email": "Email",
        "Bio": "Bio",
        "New Password": "New Password",
        "Save Changes": "Save Changes",
        "Cancel": "Cancel",
        "Allowed formats: JPG, PNG, GIF": "Allowed formats: JPG, PNG, GIF",
        "Error updating profile": "Error updating profile",
        "Error fetching user data": "Error fetching user data"
    }
};

window.i18n = {
    language: 'ru',
    t(key) {
        return translations[this.language][key] || key;
    },
    setLanguage(lang) {
        if (translations[lang]) {
            this.language = lang;
            this.updateTranslations();
        }
    },
    updateTranslations() {
        document.querySelectorAll('[data-i18n]').forEach(element => {
            const key = element.getAttribute('data-i18n');
            if (key) {
                element.textContent = this.t(key);
            }
        });
    }
};

document.addEventListener('DOMContentLoaded', () => {
    window.i18n.updateTranslations();
});
