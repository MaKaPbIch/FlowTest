<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Case Details</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-50 p-6">
    <div class="max-w-4xl mx-auto bg-white rounded-xl shadow-lg overflow-hidden transition-all duration-300 hover:shadow-xl">
        <div class="p-8">
            <div class="flex justify-between items-center mb-6">
                <div class="flex space-x-4" id="actionButtons">
                    <button onclick="toggleEditMode()" id="editButton" class="inline-flex items-center px-6 py-2.5 rounded-lg text-sm font-semibold text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition-all duration-300 ease-in-out transform hover:-translate-y-0.5">
                        <svg class="-ml-1 mr-2 h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg>
                        Edit
                    </button>
                    <button onclick="saveChanges()" id="saveButton" class="hidden" data-active-class="inline-flex items-center px-6 py-2.5 rounded-lg text-sm font-semibold text-white bg-emerald-600 hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2 transition-all duration-300 ease-in-out transform hover:-translate-y-0.5">
                        <svg class="-ml-1 mr-2 h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>
                        Save
                    </button>
                    <button onclick="cancelEdit()" id="cancelButton" class="hidden" data-active-class="inline-flex items-center px-6 py-2.5 rounded-lg text-sm font-semibold text-white bg-gray-600 hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 transition-all duration-300 ease-in-out transform hover:-translate-y-0.5">
                        <svg class="-ml-1 mr-2 h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                        Cancel
                    </button>
                    <button class="inline-flex items-center px-6 py-2.5 rounded-lg text-sm font-semibold text-white bg-amber-500 hover:bg-amber-600 focus:outline-none focus:ring-2 focus:ring-amber-500 focus:ring-offset-2 transition-all duration-300 ease-in-out transform hover:-translate-y-0.5">
                        <svg class="-ml-1 mr-2 h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"></path></svg>
                        Move
                    </button>
                    <button class="inline-flex items-center px-6 py-2.5 rounded-lg text-sm font-semibold text-white bg-rose-600 hover:bg-rose-700 focus:outline-none focus:ring-2 focus:ring-rose-500 focus:ring-offset-2 transition-all duration-300 ease-in-out transform hover:-translate-y-0.5">
                        <svg class="-ml-1 mr-2 h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg>
                        Delete
                    </button>
                </div>
                <div class="flex items-center space-x-2">
                    <label class="text-sm text-gray-600">Type:</label>
                    <select id="testType" class="bg-purple-100 text-purple-800 text-sm font-medium px-4 py-1 rounded-full" disabled>
                        <option value="automated">Automated</option>
                        <option value="manual">Manual</option>
                    </select>
                </div>
            </div>

            <div id="testCaseContainer">
                <div id="messageContainer" class="mb-4 hidden">
                    <div class="bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative" role="alert">
                        <span class="block sm:inline" id="messageText"></span>
                    </div>
                </div>
                
                <div class="mb-4">
                    <div id="testId" class="hidden"></div>
                    <div class="text-sm text-gray-500">
                        <p id="createdDate">Created: March 15, 2024 10:30 AM</p>
                        <p id="updatedDate">Last Edited: March 16, 2024 2:45 PM</p>
                    </div>
                    <div id="testKey" class="hidden"></div>
                    <div id="testSuite" class="hidden"></div>
                    <div id="testProject" class="hidden"></div>
                    <div id="testStatus" class="text-sm font-medium px-3 py-1 rounded-full inline-block"></div>
                    <div id="testAuthor" class="text-gray-600 text-sm"></div>
                    <div id="testPriority" class="hidden"></div>
                    <div id="testType" class="hidden"></div>
                    <div id="testPlatform" class="hidden"></div>
                </div>

                <h1 id="testTitle" class="text-3xl font-bold text-gray-800 mb-4">Login Functionality Test</h1>
            </div>

            <div class="space-y-6">
                <div class="bg-gray-50 p-4 rounded-lg">
                    <h2 class="text-lg font-semibold text-gray-700 mb-2">Description</h2>
                    <div id="testDescription" class="text-gray-600 whitespace-pre-wrap">Verify user login functionality with valid credentials</div>
                </div>

                <div class="bg-gray-50 p-4 rounded-lg">
                    <div class="flex justify-between items-center mb-2">
                        <h2 class="text-lg font-semibold text-gray-700">Steps & Expected Results</h2>
                        <button onclick="addStep()" id="addStepBtn" class="hidden inline-flex items-center p-1 rounded-full bg-indigo-600 text-white hover:bg-indigo-700 focus:outline-none">
                            <svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>
                            </svg>
                        </button>
                    </div>
                    <div id="stepsContainer" class="space-y-6">
                        <div class="space-y-6" id="stepsContent">
                            <div class="grid grid-cols-2 gap-4">
                                <div class="bg-white p-4 rounded-lg shadow">
                                    <div class="flex items-center mb-2">
                                        <span class="flex items-center justify-center w-6 h-6 bg-blue-100 text-blue-800 rounded-full mr-2 font-semibold">1</span>
                                        <h3 class="font-medium text-gray-800">Step</h3>
                                    </div>
                                    <p class="text-gray-600 step-content" contenteditable="false">Enter valid username and password</p>
                                </div>
                                <div class="bg-white p-4 rounded-lg shadow">
                                    <div class="flex items-center mb-2">
                                        <span class="flex items-center justify-center w-6 h-6 bg-green-100 text-green-800 rounded-full mr-2 font-semibold">✓</span>
                                        <h3 class="font-medium text-gray-800">Expected Result</h3>
                                    </div>
                                    <p class="text-gray-600 result-content" contenteditable="false">Fields accept input</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="bg-gray-50 p-4 rounded-lg">
                    <div class="flex justify-between items-center mb-2">
                        <h2 class="text-lg font-semibold text-gray-700">Conditions</h2>
                        <button onclick="addCondition()" id="addConditionBtn" class="hidden inline-flex items-center p-1 rounded-full bg-indigo-600 text-white hover:bg-indigo-700 focus:outline-none">
                            <svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>
                            </svg>
                        </button>
                    </div>
                    <ul id="conditionsContent" class="list-disc list-inside text-gray-600">
                        <li>User must have valid credentials</li>
                        <li>System must be connected to authentication server</li>
                    </ul>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div class="bg-gray-50 p-4 rounded-lg">
                        <h2 class="text-lg font-semibold text-gray-700 mb-2">Priority</h2>
                        <select id="prioritySelect" class="bg-red-100 text-red-800 text-sm font-medium px-3 py-1 rounded-full" disabled>
                            <option value="" class="bg-gray-100 text-gray-600">Select Priority</option>
                            <option value="high">High</option>
                            <option value="medium">Medium</option>
                            <option value="low">Low</option>
                        </select>
                    </div>

                    <div class="bg-gray-50 p-4 rounded-lg">
                        <h2 class="text-lg font-semibold text-gray-700 mb-2">Platform</h2>
                        <select id="platformSelect" class="bg-blue-100 text-blue-800 text-sm font-medium px-3 py-1 rounded-full" disabled>
                            <option value="" class="bg-gray-100 text-gray-600">Select Platform</option>
                            <option value="chrome">Web - Chrome</option>
                            <option value="firefox">Web - Firefox</option>
                            <option value="safari">Web - Safari</option>
                            <option value="edge">Web - Edge</option>
                        </select>
                    </div>
                </div>

                <div class="bg-gray-50 p-4 rounded-lg">
                    <h2 class="text-lg font-semibold text-gray-700 mb-2">Test Code</h2>
                    <pre id="testCode" class="bg-gray-800 text-gray-200 p-4 rounded-lg overflow-x-auto">// No test code available</pre>
                </div>

                <div class="bg-gray-50 p-4 rounded-lg">
                    <h2 class="text-lg font-semibold text-gray-700 mb-2">Test Case Code</h2>
                    <pre id="testCaseCode" class="bg-gray-800 text-gray-200 p-4 rounded-lg overflow-x-auto">describe('Login Test', () => {
    it('should login with valid credentials', () => {
        cy.visit('/login');
        cy.get('#username').type('testuser');
        cy.get('#password').type('password123');
        cy.get('#loginBtn').click();
        cy.url().should('include', '/dashboard');
    });
});</pre>
                </div>
            </div>
        </div>
    </div>

    <script>
        let originalValues = {};
        let isEditing = false;

        function toggleEditMode() {
            isEditing = !isEditing;
            const editButton = document.getElementById('editButton');
            const saveButton = document.getElementById('saveButton');
            const cancelButton = document.getElementById('cancelButton');
            const addStepBtn = document.getElementById('addStepBtn');
            const addConditionBtn = document.getElementById('addConditionBtn');
            
            if (isEditing) {
                // Store original values
                const descriptionEl = document.getElementById('testDescription');
                const conditionsEl = document.getElementById('conditionsContent');
                originalValues.description = descriptionEl ? descriptionEl.innerText : '';
                originalValues.conditions = conditionsEl ? conditionsEl.innerHTML : '';
                originalValues.steps = Array.from(document.querySelectorAll('.step-content')).map(el => el.innerText);
                originalValues.results = Array.from(document.querySelectorAll('.result-content')).map(el => el.innerText);
                originalValues.priority = document.getElementById('prioritySelect').value;
                originalValues.platform = document.getElementById('platformSelect').value;
                originalValues.testType = document.getElementById('testType').value;
                
                // Make content editable
                document.getElementById('testDescription').contentEditable = true;
                document.getElementById('conditionsContent').contentEditable = true;
                document.querySelectorAll('.step-content, .result-content').forEach(el => el.contentEditable = true);
                document.getElementById('prioritySelect').disabled = false;
                document.getElementById('platformSelect').disabled = false;
                document.getElementById('testType').disabled = false;
                
                // Show/hide buttons
                editButton.classList.add('hidden');
                saveButton.classList.remove('hidden');
                saveButton.className = saveButton.getAttribute('data-active-class');
                cancelButton.classList.remove('hidden');
                cancelButton.className = cancelButton.getAttribute('data-active-class');
                addStepBtn.classList.remove('hidden');
                addConditionBtn.classList.remove('hidden');
                
                // Add editing styles
                document.getElementById('testDescription').classList.add('border', 'border-gray-300', 'p-2', 'rounded');
                document.getElementById('conditionsContent').classList.add('border', 'border-gray-300', 'p-2', 'rounded');
                document.querySelectorAll('.step-content, .result-content').forEach(el => {
                    el.classList.add('border', 'border-gray-300', 'p-2', 'rounded');
                });
            }
        }

        function saveChanges() {
            isEditing = false;
            
            // Remove editable state
            document.getElementById('testDescription').contentEditable = false;
            document.getElementById('conditionsContent').contentEditable = false;
            document.querySelectorAll('.step-content, .result-content').forEach(el => el.contentEditable = false);
            document.getElementById('prioritySelect').disabled = true;
            document.getElementById('platformSelect').disabled = true;
            document.getElementById('testType').disabled = true;
            
            // Update buttons
            document.getElementById('editButton').classList.remove('hidden');
            document.getElementById('saveButton').classList.add('hidden');
            document.getElementById('cancelButton').classList.add('hidden');
            document.getElementById('addStepBtn').classList.add('hidden');
            document.getElementById('addConditionBtn').classList.add('hidden');
            
            // Remove editing styles
            document.getElementById('testDescription').classList.remove('border', 'border-gray-300', 'p-2', 'rounded');
            document.getElementById('conditionsContent').classList.remove('border', 'border-gray-300', 'p-2', 'rounded');
            document.querySelectorAll('.step-content, .result-content').forEach(el => {
                el.classList.remove('border', 'border-gray-300', 'p-2', 'rounded');
            });
        }

        function cancelEdit() {
            isEditing = false;
            
            // Restore original values
            document.getElementById('testDescription').innerText = originalValues.description;
            document.getElementById('conditionsContent').innerHTML = originalValues.conditions;
            document.querySelectorAll('.step-content').forEach((el, index) => {
                el.innerText = originalValues.steps[index];
            });
            document.querySelectorAll('.result-content').forEach((el, index) => {
                el.innerText = originalValues.results[index];
            });
            document.getElementById('prioritySelect').value = originalValues.priority;
            document.getElementById('platformSelect').value = originalValues.platform;
            document.getElementById('testType').value = originalValues.testType;
            
            // Remove editable state
            document.getElementById('testDescription').contentEditable = false;
            document.getElementById('conditionsContent').contentEditable = false;
            document.querySelectorAll('.step-content, .result-content').forEach(el => el.contentEditable = false);
            document.getElementById('prioritySelect').disabled = true;
            document.getElementById('platformSelect').disabled = true;
            document.getElementById('testType').disabled = true;
            
            // Update buttons
            document.getElementById('editButton').classList.remove('hidden');
            document.getElementById('saveButton').classList.add('hidden');
            document.getElementById('cancelButton').classList.add('hidden');
            document.getElementById('addStepBtn').classList.add('hidden');
            document.getElementById('addConditionBtn').classList.add('hidden');
            
            // Remove editing styles
            document.getElementById('testDescription').classList.remove('border', 'border-gray-300', 'p-2', 'rounded');
            document.getElementById('conditionsContent').classList.remove('border', 'border-gray-300', 'p-2', 'rounded');
            document.querySelectorAll('.step-content, .result-content').forEach(el => {
                el.classList.remove('border', 'border-gray-300', 'p-2', 'rounded');
            });
        }

        function addStep() {
            if (!isEditing) return;
            
            const stepsContent = document.getElementById('stepsContent');
            const stepCount = stepsContent.children.length + 1;
            
            const newStepGrid = document.createElement('div');
            newStepGrid.className = 'grid grid-cols-2 gap-4';
            newStepGrid.innerHTML = `
                <div class="bg-white p-4 rounded-lg shadow">
                    <div class="flex items-center mb-2">
                        <span class="flex items-center justify-center w-6 h-6 bg-blue-100 text-blue-800 rounded-full mr-2 font-semibold">${stepCount}</span>
                        <h3 class="font-medium text-gray-800">Step</h3>
                    </div>
                    <p class="text-gray-600 step-content border border-gray-300 p-2 rounded" contenteditable="true"></p>
                </div>
                <div class="bg-white p-4 rounded-lg shadow">
                    <div class="flex items-center mb-2">
                        <span class="flex items-center justify-center w-6 h-6 bg-green-100 text-green-800 rounded-full mr-2 font-semibold">✓</span>
                        <h3 class="font-medium text-gray-800">Expected Result</h3>
                    </div>
                    <p class="text-gray-600 result-content border border-gray-300 p-2 rounded" contenteditable="true"></p>
                </div>
            `;
            
            stepsContent.appendChild(newStepGrid);
        }

        function addCondition() {
            if (!isEditing) return;
            
            const conditionsContent = document.getElementById('conditionsContent');
            const newCondition = document.createElement('li');
            newCondition.contentEditable = true;
            newCondition.className = 'text-gray-600';
            conditionsContent.appendChild(newCondition);
        }
    </script>
</body>
</html>